{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rafael\\\\Desktop\\\\codenation_react_1\\\\react-1\\\\src\\\\components\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Home from './Home';\nimport RecipePage from './RecipePage';\nimport { slugify } from '../helpers';\nimport recipes from '../sample_data/recipes.json';\nimport RecipeItem from \"./RecipeItem\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      const newurl = event.target.value;\n      this.setState({\n        searchString: newurl\n      });\n      this.props.history.push(newurl);\n      this.realizarFiltro(newurl);\n    };\n\n    this.onClick = titulo => {\n      this.props.history.push(\"/recipe/\" + titulo);\n    };\n\n    this.realizarFiltro = filtro => {\n      let currentList = [];\n      let newList = [];\n\n      if (filtro !== \"\" && filtro !== null && filtro !== undefined) {\n        currentList = this.state.recipes;\n        newList = currentList.filter(item => {\n          const lc = item.ingredients.toLowerCase();\n          const titulo = item.title.toLowerCase();\n          const filter = filtro.toLowerCase();\n          this.setState({\n            searchString: filtro\n          });\n          return lc.includes(filter) || titulo.includes(filter);\n        });\n      } else {\n        newList = this.state.recipes;\n        this.setState({\n          searchString: \"\"\n        });\n      }\n\n      this.setState({\n        recipesFiltrados: newList\n      }); // console.log(\"Filtraaa\",this.state.recipesFiltrados.length);\n    };\n\n    this.state = {\n      searchString: window.location.pathname.substr(1) || \"\",\n      //this.props.match.params.\n      recipes: recipes.results,\n      recipesFiltrados: []\n    };\n  }\n\n  componentDidMount() {\n    // const str = this.props.match.params.searchString;\n    // this.setState({searchString: str});\n    this.realizarFiltro(this.state.searchString);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      searchString: this.state.searchString,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), \")}/>\", React.createElement(\"div\", {\n      className: \"container mt-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Home, {\n      filtrados: this.state.recipesFiltrados,\n      searchString: this.state.searchString.toLowerCase(),\n      onClick: this.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Rafael\\Desktop\\codenation_react_1\\react-1\\src\\components\\App.js"],"names":["React","Component","BrowserRouter","Router","Link","Route","Navbar","Home","RecipePage","slugify","recipes","RecipeItem","App","constructor","props","onChange","event","newurl","target","value","setState","searchString","history","push","realizarFiltro","onClick","titulo","filtro","currentList","newList","undefined","state","filter","item","lc","ingredients","toLowerCase","title","includes","recipesFiltrados","window","location","pathname","substr","results","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as Router,Link,Route } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Home from './Home';\nimport RecipePage from './RecipePage';\nimport { slugify } from '../helpers';\nimport recipes from '../sample_data/recipes.json';\nimport RecipeItem from \"./RecipeItem\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n            searchString: window.location.pathname.substr(1) || \"\", //this.props.match.params.\n            recipes: recipes.results,\n            recipesFiltrados: [],\n        }\n    }\n\n    componentDidMount() {\n        // const str = this.props.match.params.searchString;\n        // this.setState({searchString: str});\n        this.realizarFiltro(this.state.searchString);\n    }\n\n    onChange = (event) => {\n        const newurl= event.target.value;\n        this.setState({searchString: newurl});\n        this.props.history.push(newurl);\n        this.realizarFiltro(newurl);\n    };\n\n    onClick = (titulo) => {\n        this.props.history.push(\"/recipe/\" +titulo)\n    };\n\n    realizarFiltro = (filtro)=>{\n        let currentList = [];\n        let newList = [];\n        if(filtro !== \"\" && filtro !== null && filtro !== undefined){\n            currentList = this.state.recipes;\n            newList = currentList.filter(item => {\n                const lc = item.ingredients.toLowerCase();\n                const titulo = item.title.toLowerCase();\n                const filter = filtro.toLowerCase();\n                this.setState({searchString: filtro});\n                return (lc.includes(filter) || titulo.includes(filter)) ;\n            });\n        } else {\n            newList = this.state.recipes;\n            this.setState({searchString: \"\"});\n        }\n        this.setState({recipesFiltrados: newList});\n        // console.log(\"Filtraaa\",this.state.recipesFiltrados.length);\n    };\n    render() {\n    return (\n      <div className=\"App\">\n          {/* TODO: Navbar precisa receber a string da URL */}\n          <Navbar\n                searchString={this.state.searchString}\n                onChange={this.onChange}\n          />\n        )}/>\n        <div className=\"container mt-10\">\n          {/* TODO: Implementar rotas  */}\n          <Home filtrados={this.state.recipesFiltrados} searchString={this.state.searchString.toLowerCase()} onClick={this.onClick}/>\n            {/*<div className=\"row\">*/}\n                {/*{this.state.recipesFiltrados.map(c=>{*/}\n                    {/*return(*/}\n                        {/*<RecipeItem title={c.title} ingredients={c.ingredients} thumbnail={c.thumbnail} highlight={this.state.searchString.toLowerCase()}*/}\n                         {/*/>*/}\n                    {/*);*/}\n                {/*})*/}\n                {/*}*/}\n            {/*</div>*/}\n          {/*<Route path=\"/\" component={Home} />*/}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}